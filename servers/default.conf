server {
    listen          80;
    server_name     localhost;
    root            /app/default;

    server_tokens   off;

    # Location block order doesn't matter
    # Order: exact match, preferential prefix, regex, and prefix

    # Exact match (has priority over all regardless of order)
    # location = /test {
    #     try_files   $uri $uri/ /index.html =404;
    # }

    # Prefix match (can be made into a preferential prefix so > regex)
    location / {
        try_files   $uri $uri/ /index.html =404;
    }

    location ~* \.(ico|gif|jpe?g|png)$ {
        access_log off;
        # expires 1M;
        # add_header Cache-Control public;
        # add_header Pragma public;
    }

    location ~* \.(css|js)$ {
        access_log off;
        # expires 7d;
        # add_header Cache-Control public;
        # add_header Pragma public;
        # add_header Vary Accept-Encoding;
    }
    
    # location /sockjs-node {
    #     proxy_pass http://client;
    #     proxy_http_version 1.1;
    #     proxy_set_header Upgrade $http_upgrade;
    #     proxy_set_header Connection "Upgrade";
    # }

    # location /api {
    #     rewrite /api/(.*) /$1 break;
    #     proxy_pass http://api;
    # }
}